# Distilled CNN/DailyMail Dataset

This folder contains a dataset loading script to build a distilled CNN/DailyMail dataset using pseudo-labels.

## Minor Changes
1. Remove "(CNN)" in the beginning of articles.


## Usage
1. Download the following two pseudo-labels datasets.
    - `cnn_bart_pl` is downloaded from [Saved Pseudo-Labels](https://github.com/huggingface/transformers/blob/main/examples/research_projects/seq2seq-distillation/precomputed_pseudo_labels.md), which is generated by facebook/bart-large-cnn, this corresponds to version "1.0.0". It contains train/validataion/test splits.
    - `pegasus_cnn_cnn_pls` is also downloaded from [Saved Pseudo-Labels](https://github.com/huggingface/transformers/blob/main/examples/research_projects/seq2seq-distillation/precomputed_pseudo_labels.md). It is generated by sshleifer/pegasus-cnn-ft-v2, and it corresponds to version "2.0.0". It only includes the train split.
2. Load the data
    1. Directly load with the `datasets` library.
        ```python
        from datasets import load_dataset

        # distil_cnndm version 1.0.0: pseudo-labels by BART
        data = datasets.load_dataset("yuyang/distil_cnndm", "1.0.0")

        # distil_cnndm version 2.0.0: pseudo-labels by PEGASUS
        data = datasets.load_dataset("yuyang/distil_cnndm", "2.0.0")
        ```
    2. Load the data with the data loading script locally. Note that after the following code is run once, we can then directly specify the `dataset_name` in the experiment configuration file to be "distil_cnndm".
        ```python
        from datasets import load_dataset

        load_dataset("path/to/distil_cnndm", "1.0.0")

        load_dataset("path/to/distil_cnndm", "2.0.0")
        ```    